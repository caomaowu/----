# 压铸项目管理系统 UI 设计文档

> 版本: v1.0  
> 更新日期: 2026年  
> 设计目标: 打造专业、美观、易用的压铸行业项目管理界面

---

## 1. 设计原则

### 1.1 核心设计理念

| 原则 | 说明 | 体现位置 |
|:-----|:-----|:---------|
| **专业感** | 拒绝"工业风"，采用现代卡片式设计 | 圆角卡片、渐变图标、精致阴影 |
| **高效性** | 减少操作步骤，信息一目了然 | 顶部统计、快捷筛选、全文搜索 |
| **可扩展** | 布局灵活，支持功能迭代 | 组件化设计、配置化样式 |
| **一致性** | 相同元素保持统一风格 | 颜色系统、字体规范、间距体系 |

### 1.2 设计参考

- **主要参考**: Vestox Dashboard (现代金融管理界面风格)
- **设计语言**: Microsoft Fluent Design System
- **技术实现**: PyQt6 + PyQt-Fluent-Widgets

---

## 2. 布局架构

### 2.1 整体布局

```
┌─────────────────────────────────────────────────────────────────┐
│  [窗口标题栏]  压铸项目管理系统 Pro                               │
├──────────┬─────────────────────────────────────┬──────────────┤
│          │                                     │              │
│  左侧栏   │            主内容区                  │   右侧栏     │
│  240px   │         (自适应剩余宽度)              │   300px      │
│          │                                     │              │
│  导航     │  标题 + 统计概览 + 筛选 + 项目网格    │  搜索+快捷   │
│  分组     │                                     │  操作+标签   │
│          │                                     │              │
└──────────┴─────────────────────────────────────┴──────────────┘
       ↓                ↓                      ↓
   SidebarWidget    MainContent           RightPanel
```

### 2.2 响应式断点

| 屏幕宽度 | 布局调整 |
|:---------|:---------|
| ≥1600px | 三栏布局，项目卡片3列 |
| 1200-1600px | 隐藏右侧栏，项目卡片3列 |
| 900-1200px | 隐藏右侧栏，项目卡片2列 |
| <900px | 左侧栏收起为图标，项目卡片1列 |

> 注: 当前版本主要面向桌面端，最小支持宽度 1200px

---

## 3. 颜色系统

### 3.1 主色调

```python
COLORS = {
    'primary':       '#E65100',  # 主色 - 活力橙
    'primary_light': '#FF9800',  # 主色浅 - 用于渐变
    'bg':            '#F8F9FA',  # 背景色 - 浅灰白
    'card':          '#FFFFFF',  # 卡片色 - 纯白
}
```

**主色使用场景**:
- 按钮、选中状态、强调文字
- 图标渐变背景
- 进度条、状态指示

### 3.2 辅助色

```python
'success': '#28A745',  # 成功/量产状态 - 绿色
'info':    '#17A2B8',  # 信息/设计状态 - 青色  
'warning': '#FFC107',  # 警告/试模状态 - 黄色
'danger':  '#DC3545',  # 错误/紧急状态 - 红色
```

### 3.3 中性色

```python
'text':       '#212529',  # 主要文字 - 近黑
'text_muted': '#6C757D',  # 次要文字 - 灰色
'border':     '#E9ECEF',  # 边框/分隔线 - 浅灰
'shadow':     '#000000',  # 阴影色
```

### 3.4 颜色应用规范

| 元素 | 颜色 | 说明 |
|:-----|:-----|:-----|
| 页面背景 | `bg` #F8F9FA | 保护视力，减少疲劳 |
| 卡片背景 | `card` #FFFFFF | 与背景形成层次 |
| 主要按钮 | `primary` #E65100 | 突出主要操作 |
| 选中状态 | `primary` + 浅橙背景 | 明确反馈 |
| 悬停状态 | 背景变亮 + 阴影加深 | 交互反馈 |

---

## 4. 字体规范

### 4.1 字体栈

```python
font-family: "Segoe UI", "Microsoft YaHei", "PingFang SC", sans-serif;
```

### 4.2 字体层级

| 层级 | 大小 | 字重 | 用途 |
|:-----|:-----|:-----|:-----|
| 大标题 | 28px | Bold | 页面主标题 "全部项目" |
| 小标题 | 18px | Bold | 卡片项目名称 |
| 正文 | 14px | Regular | 一般文字内容 |
| 辅助文字 | 13px | Regular | 客户名称、标签 |
| 说明文字 | 12px | Regular | 日期、状态 |
| 数字大 | 32px | Bold | 统计数据展示 |
| 数字中 | 18px | Bold | 统计卡片数值 |

### 4.3 行高与间距

- 标题行高: 1.3
- 正文行高: 1.5
- 段落间距: 8px

---

## 5. 组件规范

### 5.1 卡片 (Card)

#### 项目卡片 `ProjectCard`

```
尺寸: 300px × 200px
圆角: 16px
背景: 白色
阴影: 模糊20px, 偏移Y4px, 透明度25%
悬停: 阴影加深, 上移4px

内部结构:
┌────────────────────────────┐
│ [渐变图标] 项目编号        │  ← 顶部: 图标+编号+名称
│            项目名称        │
├────────────────────────────┤  ← 分隔线
│ 👤 客户名称                │  ← 客户信息
│                            │
│ #标签1  #标签2    ● 状态   │  ← 底部: 标签+状态
│                 2024-03-15 │  ← 日期
└────────────────────────────┘
```

**图标区域样式**:
```css
background: linear-gradient(135deg, #FF9800, #E65100);
border-radius: 12px;
```

#### 统计卡片 `StatCard`

```
尺寸: 自适应宽度 × 120px
圆角: 16px
背景: 白色

结构:
┌──────────────────────┐
│ 指标名称             │
│     32    副标题     │  ← 大数字 + 进度条
│ ████████░░░░░░░░░░   │
└──────────────────────┘
```

### 5.2 按钮 (Button)

#### 主要按钮

```css
height: 48px;
background: #E65100;
color: white;
border-radius: 12px;
font-size: 15px;
font-weight: bold;

/* 悬停 */
background: #F57C00;
```

#### 导航按钮

```css
height: 48px;
padding: 12px 16px;
border-radius: 12px;
color: #6C757D;  /* 默认 */

/* 悬停 */
background: #F8F9FA;
color: #212529;

/* 选中 */
background: linear-gradient(90deg, #FFF3E0, white);
color: #E65100;
font-weight: bold;
```

#### 筛选按钮

```css
height: 40px;
background: white;
border: 1px solid #E9ECEF;
border-radius: 10px;
padding: 0 16px;

/* 悬停 */
border-color: #E65100;
color: #E65100;
```

### 5.3 标签 (Tag)

#### 项目标签

```css
/* 橙色主题标签 */
background: #FFF3E0;
color: #E65100;
border-radius: 10px;
padding: 4px 10px;
font-size: 11px;
font-weight: 500;
```

#### 筛选标签

```css
/* 灰色未选中 */
background: #F8F9FA;
color: #6C757D;
border-radius: 8px;

/* 选中 */
background: #E65100;
color: white;
```

### 5.4 输入框 (Input)

#### 搜索框

```css
height: 48px;
background: white;
border: 2px solid #E9ECEF;
border-radius: 12px;
padding: 0 16px;
font-size: 14px;

/* 聚焦 */
border-color: #E65100;
```

### 5.5 侧边栏导航

#### 可展开分组

```
▼ 📂 按文档类型      ← 展开状态 (▼)
    📐 3D文件    [45]
    📄 技术文档  [32]
    ...

▶ 📂 按文档类型      ← 收起状态 (▶)
```

**交互**:
- 点击标题展开/收起
- 子项可单独选中
- 显示数量徽章

---

## 6. 间距系统

### 6.1 基础间距

| Token | 值 | 用途 |
|:------|:---|:-----|
| xs | 4px | 紧凑间距、图标与文字 |
| sm | 8px | 小间隙、内联元素 |
| md | 16px | 标准间距、卡片内边距 |
| lg | 24px | 大间隙、分组间距 |
| xl | 32px | 段落间距、区域分隔 |
| xxl | 40px | 大区块间距 |

### 6.2 应用示例

```
页面边距: 32px (xl)
卡片间距: 24px (lg)
卡片内边距: 20px (md+)
按钮间距: 12px (sm+)
文字间距: 8px (sm)
```

### 6.3 布局间距

```
侧边栏 ←[0]→ 主内容区 ←[1px线]→ 右侧栏
     内边距28px              内边距24px
```

---

## 7. 阴影规范

### 7.1 阴影层级

| 层级 | 阴影参数 | 用途 |
|:-----|:---------|:-----|
| 基础阴影 | `0 4px 20px rgba(0,0,0,0.08)` | 静态卡片 |
| 悬停阴影 | `0 8px 30px rgba(0,0,0,0.12)` | 悬停状态 |
| 弹窗阴影 | `0 12px 40px rgba(0,0,0,0.16)` | 模态窗口 |

### 7.2 实现方式

```python
# PyQt6 阴影效果
shadow = QGraphicsDropShadowEffect()
shadow.setBlurRadius(20)
shadow.setColor(QColor(0, 0, 0, 25))
shadow.setOffset(0, 4)
card.setGraphicsEffect(shadow)
```

---

## 8. 动效规范

### 8.1 悬停动效

| 元素 | 效果 | 时长 |
|:-----|:-----|:-----|
| 卡片 | 阴影加深 + 上移4px | 200ms |
| 按钮 | 背景色变化 | 150ms |
| 导航项 | 背景高亮 | 150ms |

### 8.2 展开/收起动效

```python
# 可展开分组
展开: 高度从0到auto, 透明度0到1, 300ms
收起: 高度到0, 透明度到0, 200ms
缓动: ease-in-out
```

---

## 9. 图标规范

### 9.1 图标来源

- **主要**: PyQt-Fluent-Widgets 内置图标 (FluentIcon)
- **补充**: 系统 Emoji 或自定义 SVG

### 9.2 图标尺寸

| 场景 | 尺寸 | 说明 |
|:-----|:-----|:-----|
| 大图标 | 40px | Logo、主功能入口 |
| 中图标 | 24px | 卡片图标、按钮图标 |
| 小图标 | 16px | 辅助说明、列表图标 |

### 9.3 图标使用

```python
# 彩色背景上的图标
icon.setStyleSheet("color: white;")

# 普通文字旁图标
icon.setStyleSheet(f"color: {COLORS['text_muted']};")
```

---

## 10. 状态规范

### 10.1 项目状态

| 状态 | 颜色 | 说明 |
|:-----|:-----|:-----|
| 量产 | 绿色 #28A745 | 已量产，正常运行 |
| 试模 | 黄色 #FFC107 | 试模阶段 |
| 设计 | 青色 #17A2B8 | 设计/DFM阶段 |
| 暂停 | 灰色 #6C757D | 项目暂停 |

### 10.2 交互状态

| 状态 | 样式 |
|:-----|:-----|
| 默认 | 标准样式 |
| 悬停 | 背景高亮/阴影变化 |
| 按下 | 颜色加深 |
| 选中 | 主色背景/文字 |
| 禁用 | 灰色、不可点击 |

---

## 11. 文件结构

```
main_v2.py
├── 颜色配置 (COLORS 字典)
├── ShadowCard (阴影卡片基类)
├── StatCard (统计卡片)
├── ProjectCard (项目卡片)
├── SidebarWidget (左侧导航栏)
│   ├── Logo
│   ├── 主导航
│   ├── 月份分组
│   ├── 快速筛选
│   └── 可展开分组 (按文档类型)
├── RightPanel (右侧面板)
│   ├── 搜索框
│   ├── 快捷操作
│   ├── 热门标签
│   └── 最近动态
└── MainContent (主内容区)
    ├── 标题区
    ├── 统计概览
    ├── 筛选栏
    └── 项目网格
```

---

## 12. 后期修改指南

### 12.1 修改配色

```python
# 修改主色
'primary': '#E65100',  # 改为你的品牌色

# 所有使用主色的地方会自动更新：
# - 按钮
# - 选中状态
# - 图标背景
# - 进度条
```

### 12.2 修改布局

```python
# 调整侧边栏宽度
self.setFixedWidth(240)  # 改为 280 或 200

# 调整卡片尺寸
self.setFixedSize(300, 200)  # 改为 320, 220

# 调整间距
layout.setSpacing(24)  # 改为 20 或 32
```

### 12.3 添加新组件

```python
# 1. 继承 CardWidget 或 QWidget
class NewWidget(CardWidget):
    def __init__(self, parent=None):
        super().__init__(parent)
        self.setupUI()
    
    def setupUI(self):
        # 2. 使用 COLORS 保持一致性
        self.setStyleSheet(f"background: {COLORS['card']};")
        # 3. 添加子组件...

# 4. 在父布局中使用
layout.addWidget(NewWidget())
```

---

## 13. 注意事项

### 13.1 性能优化

- 项目数量多时，使用 `QScrollArea` + 虚拟滚动
- 阴影效果不要滥用，卡片级别使用即可
- 图片/缩略图需要缓存

### 13.2 可访问性

- 文字与背景对比度 ≥ 4.5:1
- 按钮尺寸不小于 44×44px
- 支持键盘导航

### 13.3 多屏幕适配

- 使用相对单位而非绝对像素
- 字体使用 pt 而非 px（已处理）
- 高分屏自动缩放

---

## 附录 A: 快速参考

### 颜色速查

```
主色:     #E65100 (橙)
成功:     #28A745 (绿)
信息:     #17A2B8 (青)
警告:     #FFC107 (黄)
背景:     #F8F9FA (浅灰)
卡片:     #FFFFFF (白)
文字:     #212529 (黑)
次要文字: #6C757D (灰)
边框:     #E9ECEF (浅灰)
```

### 尺寸速查

```
侧边栏: 240px
右侧栏: 300px
项目卡片: 300×200px
统计卡片: 自适应×120px
按钮高: 40-48px
输入框高: 48px
圆角(大): 16px
圆角(中): 12px
圆角(小): 8-10px
```

---

> **文档维护**: 修改UI时请同步更新本文档  
> **设计工具**: 如需设计稿，可使用 Figma/Sketch 按此规范绘制
